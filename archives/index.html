<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    
    <title>Effective TypeScript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Khula:wght@600&family=Open+Sans:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&display=swap" rel="stylesheet">
    <link href="/css/customize.css" rel="stylesheet" />
    <link href="/css/highlight.vs.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="/images/icon.png">
    <meta name="description" content="Effective TypeScript: 62 Specific Ways to Improve Your TypeScript">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@danvdk">
    <meta name="twitter:domain" content="effectivetypescript.com">
    <meta name="twitter:title" content="Effective TypeScript &rsaquo; 62 Specific Ways to Improve Your TypeScript">
    <meta name="twitter:description" content="Effective TypeScript: 62 Specific Ways to Improve Your TypeScript">
    <meta name="twitter:img:src" content="https://effectivetypescript.com/images/cover.jpg">

    <meta property="og:title" content="Effective TypeScript &rsaquo; 62 Specific Ways to Improve Your TypeScript">
    <meta property="og:description" content="Effective TypeScript: 62 Specific Ways to Improve Your TypeScript">
    <meta property="og:image" content="https://effectivetypescript.com/images/cover.jpg">
    <meta property="og:url" content="https://effectivetypescript.com/">

    <link href="https://effectivetypescript.com/atom.xml" type="application/atom+xml" rel="alternate" title="Effective TypeScript Atom Feed" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-769809-4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-769809-4');

      var trackOutboundLink = function(category, url, e) {
        if (!window.google_tag_manager) {
          console.log('blocked!');
          return true;  // probably blocked
        }

        // No need to use event_callback if the link is opening in a new tab.
        var newTab = e && (e.metaKey || (e.currentTarget && e.currentTarget.target === '_blank'));
        gtag('event', 'click', {
            'event_category': category,
            'event_label': url,
            'transport_type': 'beacon',
            'event_callback': !newTab ? function() {
              document.location = url;
            } : undefined
        });

        return newTab;
      }
    </script>
  <meta name="generator" content="Hexo 4.2.0"></head>

<body class="index">
  <div class="header">
  <div class="container">
      <div class="row">
          <div class="col-md-12">
              <h1 class="site-title">
                  <a href="/">
                      Effective TypeScript
                  </a>
              </h1>
          </div>
      </div>
  </div>
</div>

  <section id="preface" class="content">
  <div class="page-content">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <a href="https://amzn.to/38s1oCK" target="_blank" rel="noopener" onclick="return trackOutboundLink('cover image', 'https://amzn.to/38s1oCK', event);"><img src="https://effectivetypescript.com/images/cover.jpg" class="cover-photo" alt="Effective TypeScript Book Cover"></a>

          <p>TypeScript is a typed superset of JavaScript with the potential to solve many of the headaches for which JavaScript is famous. But TypeScript has a learning curve of its own, and understanding how to use it effectively can take time.</p>
<p><em>Effective TypeScript</em> guides you through 62 specific ways to improve your use of TypeScript, following the format popularized by <em>Effective C++</em> and <em>Effective Java</em>. You’ll advance from a beginning or intermediate user familiar with the basics to an advanced user who knows how to use the language well.</p>
<p>Already have the Book? <a href="https://github.com/danvk/effective-typescript" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://github.com/danvk/effective-typescript', event);">Visit the GitHub project</a> to see all of the code snippets from the book in one place. You can also <a href="https://www.oreilly.com/catalog/errata.csp?isbn=0636920261544" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://www.oreilly.com/catalog/errata.csp?isbn=0636920261544', event);">report any errors</a> you&#39;ve found.</p>


          <p>
            <a href="https://amzn.to/38s1oCK" target="_blank" rel="noopener" class="btn btn-info btn-lg primary" onclick="return trackOutboundLink('', 'https://amzn.to/38s1oCK', event);">Buy the Book</a>
            <a href="https://www.ebooks.com/en-us/209820951/effective-typescript/dan-vanderkam/?_c=1" target="_blank" rel="noopener" class="btn btn-info btn-lg" onclick="return trackOutboundLink('', 'https://www.ebooks.com/en-us/209820951/effective-typescript/dan-vanderkam/?_c=1', event);">Buy the eBook</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="praise" class="content">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h2>Praise for Effective TypeScript</h2>

        <blockquote>
<p>Effective TypeScript explores the most common questions we see when working with TypeScript and provides practical, results-oriented advice. Regardless of your level of TypeScript experience, you can learn something from this book.</p>
<footer>Ryan Cavanaugh, Engineering Lead for TypeScript at Microsoft</footer>
</blockquote>
<blockquote>
<p>This book is packed with practical recipes and must be kept on the desk of every TypeScript eveloper. Even if you think you know TypeScript already, get this book and you won&#39;t regret it.</p>
<footer>Yakov Fain, Java Champion</footer>
</blockquote>
<blockquote>
<p>I have been working with TypeScript for two years, and with Flow for five. And it happens that I provided technical feedback for this book. It was a joy read. The items in the book provide specific, actionable advice that will help to deepen your understanding of TypeScript, and Dan&#39;s explanations are clear and concise. There is a lot of useful information, but my favorite part is Chapter 4, Type Design. Even as an experienced hotshot I learned a number of new things. And the advice sticks with me in my day-to-day work. For example I make an effort to apply types to entire function expressions, and in some cases I do so by using specialized React event handler types that this book pointed me to. Plus Dan convinced me to switch my <code>@type</code> dependencies to <code>devDependencies</code>.</p>
<footer>Jesse Hallett, Senior Software Engineer, Originate, Inc.</footer>
</blockquote>
<blockquote>
<p>The book hit me in exactly the right spot. I&#39;m an experienced developer and I&#39;ve worked with JS on and off for many years, but my structured TS education is limited to the official tutorial. I was able to figure out most of it along the way (TS is intuitive if you have good JS knowledge and realize how it works, Google and SO helped a lot too), but this approach also left me with a lot of gaps in my knowledge, many of which I don&#39;t even realize I have. This book excels at plugging such gaps.</p>
<p>Now I have to go and refactor some of my code in the light of what I&#39;ve learned.</p>
<footer>Matěj Zábský</footer>
</blockquote>
<p>Read more reviews on <a href="https://www.goodreads.com/book/show/48570456-effective-typescript" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://www.goodreads.com/book/show/48570456-effective-typescript', event);">Goodreads</a> and <a href="https://amzn.to/38s1oCK" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://amzn.to/38s1oCK', event);">Amazon</a>.</p>

      </div>
    </div>
  </div>
</section>

<section id="updates" class="content">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h2>Recent Blog Posts</h2>
      </div>
    </div>
  </div>

  <div class="container">
  
    <div class="row hentry" id="generics-golden-rule">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/08/12/generics-golden-rule/">The Golden Rule of Generics</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-08-12T19:30:00.000Z" itemprop="datePublished">
        Wed 12 August 2020
      </time>
    </div>

    <div class="entry-content">
      
        <img src="/images/ruler.png" alt="Golden Ruler" style="float:right" width="300" height="180">

<p>The <a href="https://microsoft.github.io/TypeScript-New-Handbook/everything/" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://microsoft.github.io/TypeScript-New-Handbook/everything/', event);">New TypeScript Handbook</a> has some real gems in it. Here&#39;s <a href="https://microsoft.github.io/TypeScript-New-Handbook/everything/#guidelines-for-writing-good-generic-functions" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://microsoft.github.io/TypeScript-New-Handbook/everything/#guidelines-for-writing-good-generic-functions', event);">what it has to say about generics</a>:</p>
<blockquote>
<p>Writing generic functions is fun, and it can be easy to get carried away with type parameters. Having too many type parameters or using constraints where they aren&#39;t needed can make inference less successful, frustrating callers of your function.</p>
</blockquote>
<p>It goes on to offer a few specific pieces of advice about how to use generics, including one that I&#39;ve started to think of as the <a href="https://microsoft.github.io/TypeScript-New-Handbook/everything/#type-parameters-should-appear-twice" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://microsoft.github.io/TypeScript-New-Handbook/everything/#type-parameters-should-appear-twice', event);">&quot;Golden Rule of Generics&quot;</a>:</p>
<blockquote>
<h5 id="Type-Parameters-Should-Appear-Twice"><a href="#Type-Parameters-Should-Appear-Twice" class="headerlink" title="Type Parameters Should Appear Twice"></a>Type Parameters Should Appear Twice</h5><p>Type parameters are for relating the types of multiple values. If a type parameter is only used once in the function signature, it&#39;s not relating anything.</p>
<p><strong>Rule: If a type parameter only appears in one location, strongly reconsider if you actually need it.</strong></p>
</blockquote>
<p>I love this rule because it&#39;s so concrete. It gives you a specific way to tell whether any use of generics is good or bad.</p>
<p>But it&#39;s not always obvious how to apply this rule, and it doesn&#39;t offer much guidance about how rework your code if you&#39;re using generics poorly. So in a nod to the <a href="https://fivethirtyeight.com/features/politics-podcast-good-use-of-polling-or-bad-use-of-polling-in-the-west-wing/" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://fivethirtyeight.com/features/politics-podcast-good-use-of-polling-or-bad-use-of-polling-in-the-west-wing/', event);">folks at 538</a>, let&#39;s play the &quot;good use of generics or bad use of generics&quot; game. The examples that follow have been edited to protect the innocent, but they are all based on real code I&#39;ve encountered either in blog posts or in print.</p>
<p>Let&#39;s start with the identity function:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">identity</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">arg: T</span>): <span class="hljs-title">T</span> </span>&#123;<br>  <span class="hljs-keyword">return</span> arg;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Good use of generics or bad use? In this example the generic argument, <code>T</code>, appears in two places after its declaration:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">identity</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">arg: T</span>): <span class="hljs-title">T</span> </span>&#123;<br>             <span class="hljs-comment">// (dec)     1   2</span><br>  <span class="hljs-keyword">return</span> arg;<br>&#125;<br></code></pre></td></tr></table></figure>

<!-- Via TS handbook hb-generics -->

<p>So this passes the test and is a good use of generics. And rightly so: it relates two types because it says that the input parameter&#39;s type and the return type are the same.</p>
<p>How about this one?</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">third</span>&lt;<span class="hljs-title">A</span>, <span class="hljs-title">B</span>, <span class="hljs-title">C</span>&gt;(<span class="hljs-params">a: A, b: B, c: C</span>): <span class="hljs-title">C</span> </span>&#123;<br>  <span class="hljs-keyword">return</span> c;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>The generic parameter <code>C</code> appears twice, so it&#39;s fine. But <code>A</code> and <code>B</code> only appear once (other than in their declarations), so this function fails the test. In fact, we can rewrite it using only one generic parameter:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">third</span>&lt;<span class="hljs-title">C</span>&gt;(<span class="hljs-params">a: unknown, b: unknown, c: C</span>): <span class="hljs-title">C</span> </span>&#123;<br>  <span class="hljs-keyword">return</span> c;<br>&#125;<br></code></pre></td></tr></table></figure>

<!--
Source: <https://www.digitalocean.com/community/tutorials/typescript-generics-in-typescript>
-->

<p>Here&#39;s a function that parses <a href="https://en.wikipedia.org/wiki/YAML" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://en.wikipedia.org/wiki/YAML', event);">YAML</a>:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseYAML</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">input: <span class="hljs-built_in">string</span></span>): <span class="hljs-title">T</span> </span>&#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>Is this a good use of generics or a bad use of generics? The type paramter <code>T</code> only appears once, so it must be bad. How to fix it? It depends what your goal is. These so-called &quot;return-only generics&quot; are dangerous because they&#39;re equivalent to <code>any</code>, but don&#39;t use the word <code>any</code>:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> Weight &#123;<br>  pounds: <span class="hljs-built_in">number</span>;<br>  ounces: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">const</span> w: Weight = parseYAML(<span class="hljs-string">''</span>);<br></code></pre></td></tr></table></figure>

<p>The <code>Weight</code> here could be any type and this code would type check. If that&#39;s what you want, you may as well just be explicit about your <code>any</code>:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseYAML</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span></span>): <span class="hljs-title">any</span> </span>&#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>But the recommended way to do this is by returning <code>unknown</code> instead:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseYAML</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span></span>): <span class="hljs-title">unknown</span> </span>&#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>This will force users of the function to perform a type assertion on the result:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> w = parseYAML(<span class="hljs-string">''</span>) <span class="hljs-keyword">as</span> Weight;<br></code></pre></td></tr></table></figure>

<p>This is actually a good thing since it forces you to be explicit about your unsafe type assertion. There are no illusions of type safety here!</p>
<p>How about this one?</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printProperty</span>&lt;<span class="hljs-title">T</span>, <span class="hljs-title">K</span> <span class="hljs-title">extends</span> <span class="hljs-title">keyof</span> <span class="hljs-title">T</span>&gt;(<span class="hljs-params">obj: T, key: K</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(obj[key]);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Since <code>K</code> only appears once, this is a bad use of generics (<code>T</code> appears both as a parameter type and as a constraint on <code>K</code>). Fix it by moving the <code>keyof T</code> into the parameter type and eliminating <code>K</code>:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printProperty</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">obj: T, key: keyof T</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(obj[key]);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>This function looks superficially similar:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getProperty</span>&lt;<span class="hljs-title">T</span>, <span class="hljs-title">K</span> <span class="hljs-title">extends</span> <span class="hljs-title">keyof</span> <span class="hljs-title">T</span>&gt;(<span class="hljs-params">obj: T, key: K</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> obj[key];<br>&#125;<br></code></pre></td></tr></table></figure>

<p>This one, however, is actually a good use of generics! The trick is to look at the return type of this function. Hovering over it in your editor, you can see its full type:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getProperty</span>&lt;<span class="hljs-title">T</span>, <span class="hljs-title">K</span> <span class="hljs-title">extends</span> <span class="hljs-title">keyof</span> <span class="hljs-title">T</span>&gt;(<span class="hljs-params"></span></span><br><span class="hljs-function"><span class="hljs-params">  obj: T, key: K</span></span><br><span class="hljs-function"><span class="hljs-params"></span>): <span class="hljs-title">T</span>[<span class="hljs-title">K</span>]</span><br></code></pre></td></tr></table></figure>

<p>The return type is inferred as <code>T[K]</code>, so <code>K</code> <em>does</em> appear twice! This is a good use of generics: <code>K</code> is related to <code>T</code>, and the return type is related to both <code>K</code> and <code>T</code>.</p>
<p>What about a class?</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">class</span> ClassyArray&lt;T&gt; &#123;<br>  arr: T[];<br>  <span class="hljs-keyword">constructor</span>(<span class="hljs-params">arr: T[]</span>) &#123; <span class="hljs-keyword">this</span>.arr = arr; &#125;<br><br>  <span class="hljs-keyword">get</span>(): T[] &#123; <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.arr; &#125;<br>  add(item: T) &#123; <span class="hljs-keyword">this</span>.arr.push(item); &#125;<br>  remove(item: T) &#123;<br>    <span class="hljs-keyword">this</span>.arr = <span class="hljs-keyword">this</span>.arr.filter(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el !== item)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>This is fine since <code>T</code> appears many times in the implementation (I count 5). When you instantiate a <code>ClassyArray</code>, you bind the type variable and it relates the types of all the properties and methods on the class.</p>
<p>This class, on the other hand, fails the test:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">class</span> Joiner&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt; &#123;<br>  join(els: T[]) &#123;<br>    <span class="hljs-keyword">return</span> els.map(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> <span class="hljs-string">''</span> + el).join(<span class="hljs-string">','</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>First of all, <code>T</code> only applies to <code>join</code>, so it can be moved down onto the method, rather than the class:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">class</span> Joiner &#123;<br>  join&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt;(els: T[]) &#123;<br>    <span class="hljs-keyword">return</span> els.map(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> <span class="hljs-string">''</span> + el).join(<span class="hljs-string">','</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>By moving the declaration of <code>T</code> closer to its use, we make it possible for TypeScript to infer the type of <code>T</code>. Generally this is what you want!</p>
<!--
It would be nice to provide an example of this, but it requires an example
that's actually a good use of generics!
-->

<p>But in this case, since <code>T</code> only appears once, you should make it non-generic:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">class</span> Joiner &#123;<br>  join(els: (<span class="hljs-built_in">string</span>|<span class="hljs-built_in">number</span>)[]) &#123;<br>    <span class="hljs-keyword">return</span> els.map(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> <span class="hljs-string">''</span> + el).join(<span class="hljs-string">','</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Finally, why does this need to be a class at all? This noun-ing feels like a <a href="http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html', event);">Java-ism</a>. Just make it a standalone function:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">join</span>(<span class="hljs-params">els: (<span class="hljs-built_in">string</span>|<span class="hljs-built_in">number</span>)[]</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> els.map(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> <span class="hljs-string">''</span> + el).join(<span class="hljs-string">','</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>How about this function to get the length of any array-like object?</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> Lengthy &#123;<br>  length: <span class="hljs-built_in">number</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLength</span>&lt;<span class="hljs-title">T</span> <span class="hljs-title">extends</span> <span class="hljs-title">Lengthy</span>&gt;(<span class="hljs-params">x: T</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> x.length;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Since <code>T</code> only appears once after its definition, this is a bad use of generics. It could be written as:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLength</span>(<span class="hljs-params">x: Lengthy</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> x.length;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>or even:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLength</span>(<span class="hljs-params">x: &#123;length: <span class="hljs-built_in">number</span>&#125;</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> x.length;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Or, since TypeScript has a <a href="https://github.com/microsoft/TypeScript/blob/9ff24b6fc87dd4a376a434d1019d356dfe743c53/lib/lib.es5.d.ts#L1451-L1454" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://github.com/microsoft/TypeScript/blob/9ff24b6fc87dd4a376a434d1019d356dfe743c53/lib/lib.es5.d.ts#L1451-L1454', event);">built-in <code>ArrayLike</code> type</a>:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLength</span>(<span class="hljs-params">x: ArrayLike</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> x.length;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>If you&#39;ve made it this far, you should have a good sense for how to apply the golden rule of generics and how to fix the declarations that break it. As you read and write generic functions, think about whether they follow this rule! If you&#39;re having trouble telling or aren&#39;t sure how to fix one, <a href="https://twitter.com/danvdk" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://twitter.com/danvdk', event);">tweet at me</a>!</p>
<p><em>(Credit for this rule <a href="https://twitter.com/danvdk/status/1288201956759146496" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://twitter.com/danvdk/status/1288201956759146496', event);">goes to</a> TypeScript engineering lead <a href="https://twitter.com/SeaRyanC" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://twitter.com/SeaRyanC', event);">Ryan Cavanaugh</a>. If you like it, be sure to thank him! If you <strong>really</strong> like it, consider turning it into an <a href="https://eslint.org/docs/developer-guide/" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://eslint.org/docs/developer-guide/', event);">eslint rule</a>. Golden ruler is from <a href="https://freesvg.org/molumen-ruler" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://freesvg.org/molumen-ruler', event);">FreeSvg</a>.)</em></p>

      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="safe-queryselector">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/07/27/safe-queryselector/">Writing a safe querySelector: the one-way street from values to types</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-07-27T13:57:32.000Z" itemprop="datePublished">
        Mon 27 July 2020
      </time>
    </div>

    <div class="entry-content">
      
        The DOM's <code>document.querySelector</code> method is ubiquitious in JavaScript but somewhat tricky to type in a safe way. This post walks through how you can create a safe <code>querySelector</code> for use in TypeScript code and explains how this is an example of a general pattern of using values (which exist at runtime) as a source of truth, rather than types (which don't).

        <a class="read-more" href="/2020/07/27/safe-queryselector/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="literate-ts">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/06/30/literate-ts/">Type-safe blogs and books with literate-ts</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-06-30T21:00:00.000Z" itemprop="datePublished">
        Tue 30 June 2020
      </time>
    </div>

    <div class="entry-content">
      
        <p>Years ago when Brett Slatkin wrote <a href="https://effectivepython.com/" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://effectivepython.com/', event);"><em>Effective Python</em></a>, he <a href="https://www.onebigfluke.com/2014/07/how-im-writing-programming-book.html" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://www.onebigfluke.com/2014/07/how-im-writing-programming-book.html', event);">blogged about</a> creating a tool call <a href="https://github.com/bslatkin/pyliterate" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://github.com/bslatkin/pyliterate', event);">pyliterate</a> to run all the code samples in his book and verify that their output matched what he&#39;d written in the text. The idea stuck with me and when I started writing <a href="https://amzn.to/38s1oCK" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://amzn.to/38s1oCK', event);"><em>Effective TypeScript</em></a> in early 2019, I thought I&#39;d do something similar. If nothing else, static analysis of a book seems very much in the spirit of TypeScript. Creating <a href="https://github.com/danvk/literate-ts" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://github.com/danvk/literate-ts', event);">literate-ts</a> wound up being a lot of work, but in the end I think it more justified itself, though not quite for the reasons I expected!</p>
        <a class="read-more" href="/2020/06/30/literate-ts/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="typed-identity-functions">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/06/16/typed-identity-functions/">Use typed identity functions to guide type inference</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-06-16T15:00:00.000Z" itemprop="datePublished">
        Tue 16 June 2020
      </time>
    </div>

    <div class="entry-content">
      
        <p>TypeScript tends to do a very good job of inferring types when you leave off explicit annotations. (Chapter 3 of <a href="https://amzn.to/38s1oCK" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://amzn.to/38s1oCK', event);"><em>Effective TypeScript</em></a> is devoted to this topic.) But when you use tuples or string literal types, this will sometimes go wrong. This post explores using identity functions with carefully constructed type signatures to guide inference towards alternative types.
        <a class="read-more" href="/2020/06/16/typed-identity-functions/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </p></div>
  </div>
</div>

  
    <div class="row hentry" id="iterate-objects">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/05/26/iterate-objects/">Item 54: Know How to Iterate Over Objects</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-05-26T13:30:45.000Z" itemprop="datePublished">
        Tue 26 May 2020
      </time>
    </div>

    <div class="entry-content">
      
        Iterating over the keys and values in an object is a common operation that's surprisingly hard to write without type assertions in TypeScript. This item explains why the types you get from <code>Object.keys</code> or a <code>for-in</code> loop aren't quite what you'd expect, and what your available workarounds are.

        <a class="read-more" href="/2020/05/26/iterate-objects/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="unionize-objectify">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/05/12/unionize-objectify/">Unionize and Objectify: A Trick for Applying Conditional Types to Objects</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-05-12T17:00:00.000Z" itemprop="datePublished">
        Tue 12 May 2020
      </time>
    </div>

    <div class="entry-content">
      
        Conditional types are the most powerful weapon TypeScript gives us for mapping between types. They do their best work on union types, so sometimes it pays to apply slightly counterintuitive transformations to get a union of types, rather than an object. This post presents <code>Unionize</code> and <code>Objectify</code>, two tools I've found extremely helpful for constructing complex mappings between object types.

        <a class="read-more" href="/2020/05/12/unionize-objectify/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="avoid-inferable">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/04/28/avoid-inferable/">Item 19: Avoid Cluttering Your Code with Inferable Types</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-04-28T15:23:45.000Z" itemprop="datePublished">
        Tue 28 April 2020
      </time>
    </div>

    <div class="entry-content">
      
        The first thing that many new TypeScript developers do when they convert a codebase from JavaScript is fill it with type annotations. TypeScript is about <i>types</i>, after all! But in TypeScript many annotations are unnecessary. Declaring types for all your variables is counterproductive and is considered poor style.

        <a class="read-more" href="/2020/04/28/avoid-inferable/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="jsonify">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/04/09/jsonify/">What&#39;s the type of JSON.parse(​JSON.stringify(x))?</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-04-09T15:00:56.000Z" itemprop="datePublished">
        Thu 09 April 2020
      </time>
    </div>

    <div class="entry-content">
      
        <p>If you&#39;re writing a server in JavaScript, you might write an endpoint that converts an object to JSON:</p>
<!-- verifier:skip to avoid express dep -->
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts">app.get(<span class="hljs-string">'/user'</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> user = getCurrentUser();<br>  response.json(user);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>On the client, you might use the <code>fetch</code> API to hit this endpoint and deserialize (parse) the data:</p>
<!-- verifier:tsconfig:module=esnext -->
<!-- verifier:tsconfig:target=esnext -->
<!-- verifier:skip until top-level await works -->
<figure class="highlight ts"><table><tr><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'/user'</span>);<br><span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> response.json();<br></code></pre></td></tr></table></figure>

<p>What&#39;s the relationship between the <code>user</code> object in the server and the corresponding <code>user</code> object in the client? And how would you model this in TypeScript?</p>
        <a class="read-more" href="/2020/04/09/jsonify/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="null-values-to-perimeter">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/03/24/null-values-to-perimeter/">Item 31: Push Null Values to the Perimeter of Your Types</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-03-24T14:05:00.000Z" itemprop="datePublished">
        Tue 24 March 2020
      </time>
    </div>

    <div class="entry-content">
      
        When you first turn on <code>strictNullChecks</code>, it may seem as though you have to add scores of <code>if</code> statements checking for <code>null</code> and <code>undefined</code> values throughout your code. This is often because the relationships between null and non-null values are implicit: when variable A is non-null, you know that variable B is also non-null and vice versa. These implicit relationships are confusing both for human readers of your code and for the type checker.

        <a class="read-more" href="/2020/03/24/null-values-to-perimeter/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="evolving-any">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/03/09/evolving-any/">Item 41: Understand Evolving any</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-03-09T16:34:56.000Z" itemprop="datePublished">
        Mon 09 March 2020
      </time>
    </div>

    <div class="entry-content">
      
        In TypeScript a variable's type is generally determined when it is declared. After this, it can be <em>refined</em> (by checking if it is <code>null</code>, for instance), but it cannot expand to include new values. There is one notable exception to this, however, involving <code>any</code> types.

        <a class="read-more" href="/2020/03/09/evolving-any/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
</div>


  <div class="container" id="stay-in-touch">
    <div class="row">
      <div class="col-md-12">
        <p>
          For new TypeScript content every ~2 weeks, including new examples, sample items,
          videos and book updates, choose one of these ways to stay in touch:
        </p>

        <p>
          <a class="btn btn-info btn-lg" href="/mail/" onclick="return trackOutboundLink('subscribe newsletter', '/mail/', event);">Subscribe to the Newsletter</a>
          <a href="https://twitter.com/danvdk" target="_blank" rel="noopener" class="btn btn-info btn-lg" onclick="return trackOutboundLink('follow on twitter', 'https://twitter.com/danvdk', event);">Follow @danvdk</a>
          <a class="btn btn-info btn-lg" href="/atom.xml" onclick="return trackOutboundLink('follow RSS', '/atom.xml', event);"><span class="caps">RSS</span></a>
        </p>
      </div>
    </div>
  </div>

</section>


<section id="more-info" class="content">
  <div class="page-content">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2>Table of Contents</h2>

          <p>In an <a href="http://scottmeyers.blogspot.com/2013/01/effective-effective-books.html" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'http://scottmeyers.blogspot.com/2013/01/effective-effective-books.html', event);"><em>Effective</em>-style book</a>, the title of each item is a specific piece of advice. This means that the Table of Contents forms a summary of all the advice in the book. If any item piques your curiosity and you want to learn more, <a href="https://amzn.to/38s1oCK" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://amzn.to/38s1oCK', event);">order a copy</a>.</p>
<h3 id="Chapter-1-Getting-to-Know-TypeScript"><a href="#Chapter-1-Getting-to-Know-TypeScript" class="headerlink" title="Chapter 1: Getting to Know TypeScript"></a>Chapter 1: Getting to Know TypeScript</h3><p>Before we dive into the details, this chapter helps you understand the big picture of TypeScript. What is it and how should you think about it? How does it relate to JavaScript? Are its types nullable or are they not? What&#39;s this about <code>any</code>? And ducks?</p>
<ol>
<li>Understand the Relationship Between TypeScript and JavaScript</li>
<li>Know Which TypeScript Options You’re Using</li>
<li>Understand That Code Generation Is Independent of Types</li>
<li>Get Comfortable with Structural Typing</li>
<li>Limit Use of the <code>any</code> Type</li>
</ol>
<h3 id="Chapter-2-TypeScript’s-Type-System"><a href="#Chapter-2-TypeScript’s-Type-System" class="headerlink" title="Chapter 2: TypeScript’s Type System"></a>Chapter 2: TypeScript’s Type System</h3><p>This chapter walks you through the nuts and bolts of TypeScript&#39;s type system: how to think about it, how to use it, choices you&#39;ll need to make, and features you should avoid. TypeScript&#39;s type system is surprisingly powerful and able to express things you might not expect a type system to be able to. The items in this chapter will give you a solid foundation to build upon as you write TypeScript and read the rest of this book.</p>
<ol start="6">
<li>Use Your Editor to Interrogate and Explore the Type System</li>
<li>Think of Types as Sets of Values</li>
<li>Know How to Tell Whether a Symbol Is in the Type Space or Value Space</li>
<li>Prefer Type Declarations to Type Assertions</li>
<li>Avoid Object Wrapper Types (String, Number, Boolean, Symbol, BigInt)</li>
<li>Recognize the Limits of Excess Property Checking</li>
<li>Apply Types to Entire Function Expressions When Possible</li>
<li>Know the Differences Between <code>type</code> and <code>interface</code></li>
<li>Use Type Operations and Generics to Avoid Repeating Yourself</li>
<li>Use Index Signatures for Dynamic Data</li>
<li>Prefer Arrays, Tuples, and ArrayLike to number Index Signatures</li>
<li>Use readonly to Avoid Errors Associated with Mutation</li>
<li>Use Mapped Types to Keep Values in Sync</li>
</ol>
<h3 id="Chapter-3-Type-Inference"><a href="#Chapter-3-Type-Inference" class="headerlink" title="Chapter 3: Type Inference"></a>Chapter 3: Type Inference</h3><p>This chapter shows you some of the problems that can arise with type inference and how to fix them. After reading it, you should have a good understanding of how TypeScript infers types, when you still need to write type declarations, and when it&#39;s a good idea to write type declarations even when a type can be inferred.</p>
<ol start="19">
<li><a href="/2020/04/28/avoid-inferable/">Avoid Cluttering Your Code with Inferable Types</a></li>
<li>Use Different Variables for Different Types</li>
<li>Understand Type Widening</li>
<li>Understand Type Narrowing</li>
<li>Create Objects All at Once</li>
<li>Be Consistent in Your Use of Aliases</li>
<li>Use <code>async</code> Functions Instead of Callbacks for Asynchronous Code</li>
<li>Understand How Context Is Used in Type Inference</li>
<li>Use Functional Constructs and Libraries to Help Types Flow</li>
</ol>
<h3 id="Chapter-4-Type-Design"><a href="#Chapter-4-Type-Design" class="headerlink" title="Chapter 4: Type Design"></a>Chapter 4: Type Design</h3><p>Code is difficult to understand if you can&#39;t see the data or data types on which it operates. This is one of the great advantages of a type system: by writing out types, you make them visible to readers of your code. And this makes your code understandable. Other chapters cover the nuts and bolts of TypeScript types: using them, inferring them, and writing declarations with them. This chapter discusses the design of the types themselves. The examples in this chapter are all written with TypeScript in mind, but most of the ideas are more broadly applicable.</p>
<ol start="28">
<li>Prefer Types That Always Represent Valid States</li>
<li>Be Liberal in What You Accept and Strict in What You Produce</li>
<li>Don’t Repeat Type Information in Documentation</li>
<li><a href="/2020/03/24/null-values-to-perimeter/">Push Null Values to the Perimeter of Your Types</a></li>
<li>Prefer Unions of Interfaces to Interfaces of Unions</li>
<li>Prefer More Precise Alternatives to String Types</li>
<li>Prefer Incomplete Types to Inaccurate Types</li>
<li>Generate Types from APIs and Specs, Not Data</li>
<li>Name Types Using the Language of Your Problem Domain</li>
<li>Consider “Brands” for Nominal Typing</li>
</ol>
<h3 id="Chapter-5-Working-with-any"><a href="#Chapter-5-Working-with-any" class="headerlink" title="Chapter 5: Working with any"></a>Chapter 5: Working with <code>any</code></h3><p>Type systems were traditionally binary affairs: either a language had a fully static type system or a fully dynamic one. TypeScript blurs the line, because its type system is <em>optional</em> and <em>gradual</em>. You can add types to parts of your program but not others. This is essential for migrating existing JavaScript codebases to TypeScript bit by bit. Key to this is the <code>any</code> type,  which effectively disables type checking for parts of your code. It is both powerful and prone to abuse. Learning to use <code>any</code> wisely is essential for writing effective TypeScript. This chapter walks you through how to limit the downsides of <code>any</code> while still retaining its benefits.</p>
<ol start="38">
<li>Use the Narrowest Possible Scope for <code>any</code> Types</li>
<li>Prefer More Precise Variants of <code>any</code> to Plain <code>any</code></li>
<li>Hide Unsafe Type Assertions in Well-Typed Functions</li>
<li><a href="/2020/03/09/evolving-any/">Understand Evolving <code>any</code></a></li>
<li>Use <code>unknown</code> Instead of <code>any</code> for Values with an Unknown Type</li>
<li>Prefer Type-Safe Approaches to Monkey Patching</li>
<li>Track Your Type Coverage to Prevent Regressions in Type Safety</li>
</ol>
<h3 id="Chapter-6-Types-Declarations-and-types"><a href="#Chapter-6-Types-Declarations-and-types" class="headerlink" title="Chapter 6: Types Declarations and @types"></a>Chapter 6: Types Declarations and <code>@types</code></h3><p>Dependency management can be confusing in any language, and TypeScript is no exception. This chapter will help you build a mental model for how dependencies work in TypeScript and show you how to work through some of the issues that can come up with them. It will also help you craft your own type declaration files to publish and share with others. By writing great type declarations, you can help not just your own project but the entire TypeScript community.</p>
<ol start="45">
<li>Put TypeScript and <code>@types</code> in <code>devDependencies</code></li>
<li>Understand the Three Versions Involved in Type Declarations</li>
<li>Export All Types That Appear in Public APIs</li>
<li>Use TSDoc for API Comments</li>
<li>Provide a Type for <code>this</code> in Callbacks</li>
<li>Prefer Conditional Types to Overloaded Declarations</li>
<li>Mirror Types to Sever Dependencies</li>
<li>Be Aware of the Pitfalls of Testing Types</li>
</ol>
<h3 id="Chapter-7-Writing-and-Running-Your-Code"><a href="#Chapter-7-Writing-and-Running-Your-Code" class="headerlink" title="Chapter 7: Writing and Running Your Code"></a>Chapter 7: Writing and Running Your Code</h3><p>This chapter is a bit of a grab bag: it covers some issues that come up in writing code (not types) as well as issues you may run into when you run your code.</p>
<ol start="53">
<li>Prefer ECMAScript Features to TypeScript Features</li>
<li><a href="/2020/05/26/iterate-objects/">Know How to Iterate Over Objects</a></li>
<li>Understand the DOM hierarchy</li>
<li>Don’t Rely on Private to Hide Information</li>
<li>Use Source Maps to Debug TypeScript</li>
</ol>
<h3 id="Chapter-8-Migrating-to-TypeScript"><a href="#Chapter-8-Migrating-to-TypeScript" class="headerlink" title="Chapter 8. Migrating to TypeScript"></a>Chapter 8. Migrating to TypeScript</h3><p>You&#39;ve heard that TypeScript is great. You also know from painful experience that maintaining your 15-year-old, 100,000-line JavaScript library isn&#39;t. If only it could become a TypeScript library! This chapter offers some advice about migrating your JavaScript project to TypeScript without losing your sanity and abandoning the effort.</p>
<ol start="58">
<li>Write Modern JavaScript</li>
<li>Use <code>@ts-check</code> and JSDoc to Experiment with TypeScript</li>
<li>Use <code>allowJs</code> to Mix TypeScript and JavaScript</li>
<li>Convert Module by Module Up Your Dependency Graph</li>
<li>Don’t Consider Migration Complete Until You Enable <code>noImplicitAny</code></li>
</ol>


        </div>
      </div>
    </div>
  </div>
</section>

<section id="about-the-author" class="content">
  <div class="page-content">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2>About the Author</h2>
          <img class="about-photo" src="https://effectivetypescript.com/images/danvk_square.jpg" alt="Dan Vanderkam">

          <p>Dan Vanderkam is a principal software engineer at <a href="https://sidewalklabs.com" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://sidewalklabs.com', event);">Sidewalk Labs</a>,
where he&#39;s built engineering teams and processes for all of its products and spinouts,
all of which use TypeScript.
He previously worked on <a href="https://github.com/hammerlab/pileup.js" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://github.com/hammerlab/pileup.js', event);">open source genome visualizations</a>
at Mt. Sinai&#39;s Icahn School of Medicine and on Google search features used by billions of people
(search for <a href="https://google.com/search?q=sunset+nyc" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://google.com/search?q=sunset+nyc', event);">sunset nyc</a> or <a href="https://google.com/search?q=population+of+france" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://google.com/search?q=population+of+france', event);">population of france</a>).
He has a long history of working on <a href="https://github.com/danvk" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://github.com/danvk', event);">open source projects</a>,
including the popular <a href="https://github.com/danvk/dygraphs" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://github.com/danvk/dygraphs', event);">dygraphs</a> library and <a href="https://github.com/danvk/source-map-explorer" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://github.com/danvk/source-map-explorer', event);">source-map-explorer</a>,
a tool for visualizing JavaScript code size.
He is also a co-founder of the <a href="https://www.meetup.com/TypeScriptNYC/" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://www.meetup.com/TypeScriptNYC/', event);">NYC TypeScript Meetup</a>.</p>
<p>When he&#39;s not programming, Dan enjoys climbing rocks and playing bridge.
He writes on <a href="https://medium.com/@danvdk" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://medium.com/@danvdk', event);">Medium</a> and at <a href="https://www.danvk.org" target="_blank" rel="noopener" onclick="return trackOutboundLink('', 'https://www.danvk.org', event);">danvk.org</a>.
He earned his bachelor&#39;s in computer science from Rice University in Houston, Texas,
and lives in Brooklyn, New York.</p>


          <p>
            <a href="https://twitter.com/danvdk" target="_blank" rel="noopener" class="btn btn-info btn-lg" onclick="return trackOutboundLink('about the author', 'https://twitter.com/danvdk', event);">Follow @danvdk</a>
            <a href="https://www.danvk.org" target="_blank" rel="noopener" class="btn btn-info btn-lg" onclick="return trackOutboundLink('about the author', 'https://www.danvk.org', event);">Visit danvk.org</a>
          </p>
        </div>
      </div>
    </div>
  </div>

</section>

  <footer id="contentinfo" class="footer">
  <div class="container">
    <address id="about" class="vcard body">
      &copy; 2019 - 2020 <a class="url fn" href="https://danvk.org" target="_blank" rel="noopener" onclick="trackOutboundLink('footer', 'https://danvk.org'); return false;">Dan Vanderkam</a>
      <div class="footer-attribution">Powered by <a href="https://hexo.io/" target="_blank" onclick="return trackOutboundLink('', 'https://hexo.io/', event);">Hexo</a></div>
    </address>
  </div>
</footer>
</body>
</html>
